<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000">
    <link rel="manifest" href="/manifest.json">
    <title>Adiasta</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            height: 100%;
            font-family: Helvetica, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        body {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .header {
            background-color: var(--header-bg);
            color: var(--header-text);
            text-align: center;
            padding: 15px;
            font-size: 20px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .header .new-btn, .header .menu-btn {
            position: absolute;
            cursor: pointer;
            font-size: 16px;
        }
        .header .new-btn {
            right: 5px;
        }
        .header .menu-btn {
            left: 10px;
        }
        .chat-container {
            padding: 80px 10px 90px;
            overflow-y: auto;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 12px;
            background-color: var(--chat-bg);
            color: var(--chat-text);
        }
        .message {
            padding: 10px 15px;
            border-radius: 20px;
            max-width: 95%;
            font-size: 16px;
            line-height: 1.4;
            word-wrap: break-word;
            transition: opacity 0.3s ease;
        }
        .message.user {
            background-color: var(--user-bg);
            color: var(--user-text);
            align-self: flex-end;
        }
        .message.bot {
            background-color: var(--bot-bg);
            color: var(--bot-text);
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }
        .message.error {
            background-color: #ffdddd;
            color: #d8000c;
        }
        .input-container {
            background-color: var(--header-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            padding-top: 6px;
            padding-bottom: 40px;
            position: fixed;
            width: 100%;
            bottom: 0;
            z-index: 1000;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            transition: background-color 0.3s ease;
        }
        input[type="text"] {
            width: 100%;
            max-width: 600px;
            padding: 10px 15px;
            font-size: 16px;
            border-radius: 25px;
            border: 1px solid var(--input-border);
            color: var(--input-text);
            background-color: transparent;
            outline: none;
        }
        input[type="text"]::placeholder {
            color: grey;
        }
        .send-btn, .new-btn, .menu-btn {
            padding: 10px;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            margin: 10px;
            border: 1px solid var(--input-border);
        }
        .menu-btn {
            position: absolute;
            left: 10px;
        }
        .menu-btn span {
            color: var(--send-btn-text);
            font-size: 16px;
        }
        .send-btn span {
            color: var(--send-btn-text);
            font-size: 16px;
        }
        .bot-typing {
            display: flex;
            gap: 5px;
            align-items: center;
        }
        .bot-typing div {
            width: 8px;
            height: 8px;
            background-color: var(--typing-dot);
            border-radius: 50%;
            animation: typing 1.2s infinite;
        }
        .bot-typing div:nth-child(1) {
            animation-delay: 0s;
        }
        .bot-typing div:nth-child(2) {
            animation-delay: 0.2s;
        }
        .bot-typing div:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes typing {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.5);
            }
            100% {
                transform: scale(1);
            }
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        body.dark-mode {
            --menu-bg: black;
            --header-bg: rgba(0, 0, 0, 0.7);
            --header-text: white;
            --chat-bg: black;
            --chat-text: #e0e0e0;
            --user-bg: #282828;
            --user-text: white;
            --bot-bg: #3a3a3a;
            --bot-text: #e0e0e0;
            --input-text: #fff;
            --input-border: grey;
            --send-btn-text: grey;
            --new-btn-text: grey;
            --typing-dot: grey;
        }
        body.light-mode {
            --menu-bg: white;
            --header-bg: rgba(255, 255, 255, 0.8);
            --header-text: black;
            --chat-bg: white;
            --chat-text: #000;
            --user-bg: #F0F0F0;
            --user-text: black;
            --bot-bg: #f1f1f1;
            --bot-text: #000;
            --input-text: #000;
            --input-border: #333;
            --send-btn-text: #000;
            --new-btn-text: #000;
            --typing-dot: #ccc;
        }
        .menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            overflow: auto;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .menu-overlay.show {
            display: block;
            opacity: 1;
        }
        .menu-content {
            background-color: var(--menu-bg);
            color: var(--header-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.3s ease;
        }
        .menu-content p {
            color: var(--header-text);
            line-height: 1.5;
        }
        .menu-content a {
            color: var(--header-text); 
            text-decoration: none;
        }
        .menu-content a:hover {
            text-decoration: underline;
        }
        @keyframes slideIn {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }
        .menu-content h2 {
            margin-bottom: 20px;
        }
        .menu-content a {
            display: block;
            margin: 10px 0;
            color: var(--header-text);
            text-decoration: none;
        }
        .menu-content a:hover {
            text-decoration: underline;
        }
        .close-menu {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
            color: var(--header-text);
        }
    </style>
</head>
<body>
    <div class="header">
        <div>Adiasta</div>
        <div class="new-btn" id="newChatBtn">New</div>
        <div class="menu-btn" id="menuBtn">
            <span>&#9776;</span>
        </div>
    </div>
    <div class="chat-container" id="chatContainer">
        <div class="message bot">Hello! Send me a word to get its definition.</div>
    </div>
    <div class="input-container">
        <input type="text" id="wordInput" placeholder="Type a word...">
        <div class="send-btn" id="sendBtn">
            <span>Go</span>
        </div>
    </div>
    <div class="loading-spinner" id="loadingSpinner" style="display: none;"></div>
    <div class="menu-overlay" id="menuOverlay">
        <div class="menu-content">
            <div class="close-menu" id="closeMenu">&times;</div>
            <h2>Menu</h2>
            <a href="#" id="legalLink">Legal</a>
            <a href="#" id="contactUsLink">Contact Us</a>
            <a href="#" id="creditsLink">Credits</a>
            <div id="menuContent"></div>
        </div>
    </div>
    <script>
        const menuBtn = document.getElementById('menuBtn');
        const closeMenu = document.getElementById('closeMenu');
        const menuOverlay = document.getElementById('menuOverlay');
        const menuContent = document.getElementById('menuContent');
        const legalLink = document.getElementById('legalLink');
        const contactUsLink = document.getElementById('contactUsLink');
        const creditsLink = document.getElementById('creditsLink');
        const newChatBtn = document.getElementById('newChatBtn');
        const chatContainer = document.getElementById('chatContainer');
        const sendBtn = document.getElementById('sendBtn');
        const wordInput = document.getElementById('wordInput');
        const loadingSpinner = document.getElementById('loadingSpinner');

        function checkSystemTheme() {
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            document.body.className = isDarkMode ? 'dark-mode' : 'light-mode';
        }

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', checkSystemTheme);
        checkSystemTheme();

        menuBtn.addEventListener('click', () => {
            menuOverlay.classList.add('show');
        });

        closeMenu.addEventListener('click', () => {
            menuOverlay.classList.remove('show');
        });

        legalLink.addEventListener('click', () => {
            menuContent.innerHTML = `
               <h2>Legal</h2>
<p>Welcome to Adiasta. This page provides important legal information related to the use of our website and services. By accessing or using our site, you agree to comply with and be bound by the following terms and conditions. Please read them carefully.</p>
</br>
<h3>Terms of Service</h3>
<p>These Terms of Service govern your use of our website and services. By using our site, you agree to adhere to these terms. If you do not agree with these terms, you should not use our services. We reserve the right to modify these terms at any time, and your continued use of the site signifies your acceptance of any changes.</p>
</br>
<h3>Privacy Policy</h3>
<p>Your privacy is important to us. Our Privacy Policy outlines how we collect, use, and protect your personal information. We are committed to safeguarding your privacy and handling your personal data responsibly. Please review our Privacy Policy to understand how we manage your data.</p>
</br>
<h3>Intellectual Property</h3>
<p>All content on this website, including text, images, logos, and graphics, is owned by Adiasta or its licensors. Unauthorized use or reproduction of this content is prohibited. You may not use our content for commercial purposes without prior written consent from us.</p>
</br>
<h3>Limitation of Liability</h3>
<p>Adiasta is not liable for any damages arising from the use or inability to use our website, including but not limited to direct, indirect, incidental, punitive, or consequential damages. We do not guarantee that our site will be available at all times or free of errors.</p>
</br>
<h3>Governing Law</h3>
<p>These terms are governed by and construed in accordance with the laws of Switzerland. Any disputes arising from the use of our site or services will be subject to the exclusive jurisdiction of the courts located in Switzerland.</p>
</br>
<h3>Contact Information</h3>
<p>If you have any questions or concerns about these terms, please contact us at:</p>
<p>Email:support@adiasta.com</p>
</br>
<p>Thank you for using Adiasta.</p>
</br>
            `;
        });

        contactUsLink.addEventListener('click', () => {
            menuContent.innerHTML = `
                <h2>Contact Us</h2>
                <form action="https://formspree.io/YOUR_EMAIL" method="POST">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required><br><br>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required><br><br>
                    <label for="message">Message:</label><br>
                    <textarea id="message" name="message" rows="4" required></textarea><br><br>
                    <input type="submit" value="Send">
                </form>
            `;
        });

        creditsLink.addEventListener('click', () => {
            menuContent.innerHTML = `
                <h2>Credits</h2>
                <p style="color: var(--header-text);">
                    We would like to acknowledge the following technologies and tools that have contributed to the development of this application:<br><br>
                    <strong><a href="https://dictionaryapi.dev/" style="color: var(--header-text);">Dictionary API</a></strong>
                    <strong><a href="https://getbootstrap.com/" style="color: var(--header-text);">Bootstrap</a></strong>
                    <strong><a href="https://fontawesome.com/" style="color: var(--header-text);">Font Awesome</a></strong>
                    <strong><a href="https://fonts.google.com/" style="color: var(--header-text);">Google Fonts</a></strong>
                </p>
            `;
        });

        sendBtn.addEventListener('click', sendMessage);
        wordInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') sendMessage();
        });

        newChatBtn.addEventListener('click', () => {
            chatContainer.innerHTML = '<div class="message bot">Hello! Send me a word to get its definition.</div>';
        });

        function sendMessage() {
            const message = wordInput.value.trim();
            if (message) {
                addMessage(message, 'user');
                showBotTyping();
                fetchDefinition(message);
                wordInput.value = '';
            }
        }

        function showBotTyping() {
            const botTyping = document.createElement('div');
            botTyping.className = 'bot-typing';
            botTyping.innerHTML = '<div></div><div></div><div></div>';
            chatContainer.appendChild(botTyping);
            scrollToBottom();
        }

        async function fetchDefinition(word) {
            try {
                loadingSpinner.style.display = 'block';
                const response = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
                const data = await response.json();
                loadingSpinner.style.display = 'none';
                removeBotTyping();

                if (data[0] && data[0].meanings) {
                    const definitions = data[0].meanings.map(m => m.definitions[0].definition).join('<br>');
                    const botMessage = createBotMessage(`<strong>Definition:</strong><br>${definitions}`);
                    chatContainer.appendChild(botMessage);

                    const examples = data[0].meanings.flatMap(m => m.definitions.flatMap(d => d.example ? [`${d.example}`] : [])).join('<br>');
                    if (examples) {
                        const exampleMessage = createBotMessage(`<strong>Examples:</strong><br>${examples}`);
                        chatContainer.appendChild(exampleMessage);
                    }
                } else {
                    const botMessage = createBotMessage('No definitions found.');
                    chatContainer.appendChild(botMessage);
                }
                scrollToBottom();
            } catch (error) {
                loadingSpinner.style.display = 'none';
                removeBotTyping();
                const botMessage = createBotMessage('Error retrieving word definition.');
                botMessage.className += ' error';
                chatContainer.appendChild(botMessage);
            }
        }

        function removeBotTyping() {
            const botTyping = document.querySelector('.bot-typing');
            if (botTyping) botTyping.remove();
        }

        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `message ${sender}`;
            messageElement.textContent = text;
            chatContainer.appendChild(messageElement);
            scrollToBottom();
        }

        function createBotMessage(text) {
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot';
            botMessage.innerHTML = text;
            return botMessage;
        }

        function scrollToBottom() {
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
    </script>
</body>
</html>
